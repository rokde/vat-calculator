/*! VAT Calculator v1.0.1 | (c) 2015 Robert Kummer | MIT license */
(function(){this.Calculator=function(){function e(e,t){this.ruleset=e;this.country=t;this.price=0}e.prototype.setPrice=function(e){this.price=e};e.prototype.calculate=function(e,t){var n;n=this.getTaxValue(e,t);return new Price(this.price,n,this.getTaxRuleValue(e,t),e,t)};e.prototype.getTaxValue=function(e,t){return this.getTaxRuleValue(e,t)*this.price};e.prototype.getTaxRuleValue=function(e,t){if(e===""){e=this.country}if(this.ruleset.hasRule(e)){if(t&&e!==this.country){return 0}else{return this.ruleset.getRuleValue(e)}}return 0};return e}()}).call(this);(function(){this.Price=function(){function e(e,t,n,r,i){this.net=e;this.tax=t;this.rate=n;this.country=r;this.company=i}e.prototype.getNetValue=function(){return this.net};e.prototype.getValue=function(){return this.net+this.tax};e.prototype.getTax=function(){return this.tax};e.prototype.getTaxRate=function(){return this.rate};e.prototype.getCountry=function(){return this.country};e.prototype.isCompany=function(){return this.company};return e}()}).call(this);(function(){this.Rule=function(){function e(e,t){this.id=e;this.val=t}e.prototype.identifier=function(){return this.id};e.prototype.value=function(){return this.val};return e}()}).call(this);(function(){this.RuleSet=function(){function e(){this.rules={}}e.prototype.addRule=function(e){return this.rules[e.identifier()]=e.value()};e.prototype.hasRule=function(e){var t;for(t in this.rules){if(t===e){return true}}return false};e.prototype.getRuleValue=function(e){var t,n,r;r=this.rules;for(t in r){n=r[t];if(t===e){return this.rules[t]}}return null};return e}()}).call(this);(function(){var e;e=new RuleSet;e.addRule(new Rule("AT",.2));e.addRule(new Rule("BE",.21));e.addRule(new Rule("BG",.2));e.addRule(new Rule("CY",.19));e.addRule(new Rule("CZ",.21));e.addRule(new Rule("DE",.19));e.addRule(new Rule("DK",.25));e.addRule(new Rule("EE",.2));e.addRule(new Rule("EL",.23));e.addRule(new Rule("ES",.21));e.addRule(new Rule("FI",.24));e.addRule(new Rule("FR",.2));e.addRule(new Rule("GB",.2));e.addRule(new Rule("IE",.23));e.addRule(new Rule("IT",.22));e.addRule(new Rule("HR",.25));e.addRule(new Rule("HU",.27));e.addRule(new Rule("LV",.21));e.addRule(new Rule("LT",.21));e.addRule(new Rule("LU",.15));e.addRule(new Rule("MT",.18));e.addRule(new Rule("NL",.21));e.addRule(new Rule("NO",.25));e.addRule(new Rule("PL",.23));e.addRule(new Rule("PT",.23));e.addRule(new Rule("RO",.24));e.addRule(new Rule("SE",.25));e.addRule(new Rule("SK",.2));e.addRule(new Rule("SI",.22));this.calculator=new Calculator(e,"DE")}).call(this)